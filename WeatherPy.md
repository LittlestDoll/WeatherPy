
# Analysis

1) Temperatures do rise as you get closer to the equator. However, the temperature difference is much more signigicant in the Northern Hemisphere than the Southern Hemisphere.

2) The data doesn't indicate that there is any signigicant relation between humidity and cloudiness and proximity to the equator.

3) The data does show that there are higher wind speeds and more clouds in the Northern Hemisphere, which correlates with colder temperatures.


```python
import apikeys
from citipy import citipy 
import json
import matplotlib.pyplot as plt
import pandas as pd
from random import Random
import requests as req
import seaborn as sns
from unicodedata import normalize
from pprint import pprint
```


```python
wkey = apikeys.OPEN_WEATHER_MAP
url = "http://api.openweathermap.org/data/2.5/group"
```


```python
coordinates = []
r = Random()
r.seed()
for x in range(500):
    lat = r.randint(-90, 90)
    lon = r.randint(-180, 180)
    coordinates.append([lat, lon])
print(coordinates)    
```

    [[-40, -42], [21, -161], [18, -137], [76, 63], [28, -115], [14, -96], [59, 39], [82, 7], [19, -119], [-37, 85], [-12, -24], [-53, -130], [-33, 112], [-64, 150], [53, -45], [63, -163], [-15, -141], [-12, 143], [-39, 79], [-82, -71], [62, 126], [-43, -45], [38, 126], [-89, 36], [46, -163], [-71, 6], [21, -174], [29, -24], [-67, -11], [-3, 71], [-38, 146], [18, -167], [-23, -80], [88, 167], [63, -34], [-17, -90], [44, -135], [-1, -131], [-81, 5], [24, -128], [70, 133], [-64, -40], [88, -110], [-59, 135], [63, -96], [12, -163], [49, -155], [18, 4], [-10, 124], [-53, 32], [10, -32], [34, 47], [-14, -135], [83, 80], [-75, -100], [21, 61], [-81, -32], [-10, -118], [-3, 179], [-57, 149], [90, -13], [-41, 72], [-27, 51], [46, -155], [24, -27], [80, 102], [-59, 64], [20, 103], [-82, 71], [34, -33], [5, -98], [-82, -75], [33, -130], [24, -177], [-48, 14], [-37, -89], [49, -106], [85, 77], [-58, -16], [47, -133], [64, -94], [29, 21], [27, -113], [47, 75], [-74, -34], [23, -98], [70, -10], [-79, 178], [-32, -36], [42, 42], [-35, -134], [-69, 89], [42, 110], [-59, -110], [-1, -119], [80, 46], [-32, 98], [48, -90], [-66, -83], [-63, 180], [-2, 64], [-76, 79], [3, -23], [14, 28], [-41, -156], [38, -9], [-7, 159], [71, 104], [48, -112], [-87, -136], [66, 156], [-47, -149], [49, 106], [3, 25], [42, -4], [20, 32], [11, 161], [29, -55], [53, 99], [-48, 88], [-30, -92], [40, -53], [6, 124], [-78, 120], [60, 101], [33, 123], [-32, -142], [-44, -153], [-78, -173], [-90, -99], [-24, 28], [70, 157], [-67, -22], [-42, 3], [-71, 20], [-37, -82], [-26, 22], [-11, 1], [59, 125], [82, -93], [76, -32], [71, 31], [50, 0], [-56, -69], [-1, 91], [-81, -40], [28, -78], [-88, 65], [-58, 76], [-48, 154], [38, -75], [-57, 143], [82, -108], [65, -148], [-35, 168], [-89, -10], [-65, 18], [18, -66], [-58, 154], [33, -25], [-52, -123], [44, -137], [47, -176], [76, 35], [-31, -134], [16, -179], [-1, -19], [5, 69], [71, 6], [-58, -56], [-8, 16], [-40, 129], [-52, 129], [47, 38], [-73, -68], [31, -55], [-1, -151], [11, 29], [-76, -112], [-37, 29], [35, -147], [-52, 24], [-79, -173], [61, 136], [22, -47], [23, 23], [16, -75], [70, 8], [30, -21], [-6, -79], [-84, 152], [70, -119], [-44, 104], [-9, 88], [-63, -21], [-86, -169], [-55, -84], [-5, -32], [7, 32], [-60, 172], [75, -13], [14, -150], [90, -44], [2, 89], [73, -84], [-21, 13], [-88, 19], [40, -53], [-80, -88], [-79, -19], [-54, -37], [84, 4], [86, -107], [49, 153], [-58, 89], [44, -131], [-65, -180], [-59, 147], [82, 36], [-32, 36], [19, 77], [80, -92], [0, -4], [-34, 87], [81, 119], [8, 172], [49, 62], [1, -166], [-51, -10], [-21, 129], [-21, -177], [73, 113], [-38, -129], [87, 51], [-57, 130], [-85, 65], [34, 39], [-19, 100], [70, -145], [8, -83], [4, -60], [0, -61], [-47, 119], [31, -11], [-42, 150], [77, -119], [-79, -57], [-31, 162], [22, -152], [-89, -38], [-79, 34], [82, 124], [80, 69], [21, -130], [43, 54], [56, -51], [16, -116], [1, -63], [46, -180], [77, -127], [-48, 26], [-14, -43], [-90, -72], [12, -17], [-26, 1], [6, -76], [52, -68], [-82, -148], [27, -7], [16, -58], [72, -167], [0, -38], [72, 91], [63, -78], [-45, -62], [37, -22], [88, -134], [-1, 49], [-38, -62], [69, -64], [51, -83], [73, -151], [24, 79], [80, 178], [-26, -155], [-50, 91], [-59, 5], [-67, 21], [-10, 157], [22, -170], [-60, 174], [-15, -25], [-57, 51], [0, -30], [67, -154], [-47, 141], [-50, 55], [45, 113], [85, 56], [16, 145], [78, 57], [33, 45], [52, -123], [-5, -166], [-55, 126], [67, -14], [-49, -137], [-55, 79], [-34, -87], [39, -94], [-29, -143], [-6, 62], [56, 130], [67, 162], [-36, 41], [-38, -124], [30, -24], [23, 88], [40, 17], [41, -104], [63, 163], [-80, 55], [-47, 46], [-43, 39], [25, 25], [66, 131], [-45, 164], [-14, 74], [-82, -79], [-14, -5], [39, -32], [39, -58], [-37, 152], [-74, -162], [77, 158], [32, 3], [59, -87], [-79, -170], [77, -40], [42, -153], [3, -121], [79, 75], [-61, -32], [30, 178], [80, 60], [-50, -25], [47, -118], [42, 106], [-14, -34], [26, -123], [57, -61], [-72, 48], [18, 78], [63, -164], [25, 179], [19, -49], [3, 111], [30, 162], [-83, -40], [-16, 76], [-19, 30], [19, -166], [-50, 25], [21, -53], [-4, 45], [67, 34], [-14, -14], [-12, 40], [-8, 97], [75, 45], [-11, 176], [-71, 93], [-86, -36], [-16, 77], [-40, 73], [-80, -149], [49, -90], [-4, -175], [-18, -50], [87, -28], [-42, -165], [-25, -69], [-74, 167], [24, -9], [-31, 69], [-27, 39], [-48, -175], [52, -56], [15, -70], [87, 122], [-67, 20], [-68, -89], [33, 133], [72, 152], [39, -54], [9, 128], [-77, -1], [8, 36], [-55, -17], [-65, -79], [-29, -72], [-34, -170], [83, -73], [20, 144], [-62, -4], [-68, -17], [80, -46], [77, 0], [5, -64], [-25, 139], [-72, -119], [-60, 123], [-80, 19], [-32, -57], [77, -22], [41, 26], [75, 176], [-37, -156], [-49, 56], [50, -7], [-64, -165], [88, 43], [3, 54], [-66, -133], [-27, -118], [-75, 166], [-10, -65], [38, -19], [38, 64], [34, -147], [-50, -155], [-43, 110], [61, -152], [20, -40], [-90, -174], [-58, -155], [-41, 73], [-68, 169], [61, -152], [-18, -171], [23, 91], [-46, 103], [-8, -151], [75, -157], [-31, -75], [37, -51], [-35, -141], [25, 156], [-58, -97], [66, 26], [-45, -61], [-63, -134], [-83, 120], [-59, 103], [77, 126], [45, -114], [78, -149], [-17, 17], [22, 156], [-62, -8], [63, -5], [69, -53], [21, -123], [-47, -83], [11, -6], [25, 30], [-70, -81], [-27, 71], [17, 135], [75, 3], [5, 52], [-77, 121], [-7, -93], [15, -82], [-48, -104], [64, 69], [-48, -27], [-85, 48], [-79, -174], [-37, 169], [-88, 121], [37, 18], [-28, -125], [-56, 68], [-16, 59], [61, 167], [-8, 102], [-1, 177], [-69, 111], [-65, 76], [-69, -65], [40, -48], [42, -156], [-66, 59], [-35, 155], [80, -52], [85, -94], [-88, -102], [15, 92], [43, 43]]



```python
cities = []
for lat, lon in coordinates:
    cities.append(citipy.nearest_city(lat, lon))

city_ids = []
for city in cities:
    city_ids.append(city.country_code + city.city_name)   
```


```python
with open('city.list.json') as json_file:
    text = json_file.read()
    json_data = json.loads(text)
    
ids = []
for c in json_data:
    ccc = str(normalize('NFKD', c["country"] + c["name"])\
              .encode('ascii','ignore'), 'ascii').lower()
    if ccc in city_ids:
        ids.append(str(c['id'])) 
print(ids)       
```

    ['2206939', '2013465', '3439525', '1005768', '2013727', '6355222', '2065594', '7839477', '1855891', '2523113', '7294638', '2640377', '53654', '3424934', '2618795', '3423146', '57000', '3385077', '2514651', '1214488', '1626703', '1633419', '1259177', '3696150', '2098329', '4368711', '5855927', '1006984', '2242885', '2017155', '2019135', '2027042', '2121025', '2122090', '4031574', '4031637', '7839686', '7839378', '1852357', '3831208', '4020109', '4036284', '7521588', '6454689', '2303611', '1277398', '6541279', '3170384', '286245', '3939761', '5655240', '5847411', '5850554', '986717', '888710', '831137', '1490496', '1490501', '1496073', '3645532', '866300', '2126123', '2015306', '2022572', '4182260', '6166142', '964420', '2455290', '5457268', '3421765', '2123814', '4377664', '6185377', '2163355', '7839672', '6356343', '3129877', '3652764', '2070998', '485660', '2121385', '569681', '1507390', '479071', '2026861', '2120591', '2126199', '1490256', '1512019', '6545515', '2561668', '3369157', '5367788', '4182259', '4050961', '7839440', '2156643', '7839657', '2077963', '2144604', '2155415', '7839452', '2063036', '2152667', '2177069', '2176639', '2152668', '1735902', '2036892', '2112802', '1277397', '1263230', '6540819', '607610', '2270385', '8010689', '8010690', '6111862', '5973108', '6165406', '6182212', '6111696', '5887798', '6089245', '6137462', '6167817', '4018835', '3983805', '3984997', '3533079', '4021858', '4018833', '128226', '3893629', '3874787', '3883457', '3870243', '3430863', '3833367', '3865086', '3839307', '1215501', '1215502', '1649150', '2181625', '3462371', '3471451', '3461973', '3465713', '3665098', '3386213', '3395458', '962367', '3366880', '964432', '2451185', '1045114', '933995', '217570', '241131', '2527087', '6690301', '935215', '2629833', '98182', '638937', '638936', '3670350', '4035715', '2029156', '4605756', '5983720', '4034551', '1855882', '335943', '3421193', '3424607', '3424901', '3896218', '6170031', '5880568', '5880054', '3577154', '1196292', '1806840', '3018794', '1348562', '1835848', '6547047', '2527089', '934322', '3985710', '1028918', '3370903', '1218436', '4489985', '4513575', '4761951', '5861897', '694712', '2071860', '2075265', '2155562', '3374083', '3573062', '3573061', '3393922', '3466165', '3572189', '6096551', '1806842', '1806846', '1919385', '3374210', '3374346', '612987', '824385', '3418910', '735365', '2374583', '3608828', '1630639', '2630299', '3489440', '2110227', '88533', '2450173', '934649', '1106677', '1282256', '1337606', '3517029', '3357804', '777019', '3137469', '2194098', '4030556', '1696105', '1729571', '1729578', '1729580', '2262917', '2270386', '3372472', '3372707', '2108857', '2109528', '364933', '370481', '2411397', '2246901', '4032243', '4065965', '4198912', '4269447', '4389309', '4407399', '4455171', '4506308', '4506309', '4580354', '4695938', '4894981', '4921083', '4938697', '4950092', '4958084', '5074013', '5092276', '5119842', '5136107', '5282297', '5354943', '5577158', '5655959', '5742974', '5787076', '5789856', '5804915', '5848280', '5859699', '5866063', '5866583', '5870133', '3443061', '1015776']



```python
#get temp, humidity, cloudiness, and wind speed for each city
params = {'appid': wkey,
          'id': '',
          'mode': json,
          'units': 'imperial'
          }

batch_size = 5
weather_data = []
while len(ids) > 0:
    if len(ids) >= batch_size:
        id = ",".join(ids[0: batch_size])
        del ids[0: batch_size]
    else:
        id = ",".join(ids)
        ids = []

    params['id'] = id
    response = req.get(url, params=params).json()
    weather_data += response['list']
```


```python
city_lat = []
city_temp = []
city_humidity = []
city_clouds = []
city_wind = []

for city in weather_data:
    city_lat.append(city['coord']['lat'])
    city_temp.append(city['main']['temp'])
    city_humidity.append(city['main']['humidity'])
    city_clouds.append(city['clouds']['all'])
    city_wind.append(city['wind']['speed'])

city_weather_df = pd.DataFrame({"Latitude": city_lat,
                                "Temperature": city_temp,
                                "Humidity": city_humidity,
                                "Cloudiness": city_clouds,
                                "Wind Speed": city_wind}) 
city_weather_df = city_weather_df[["Latitude",
                                   "Temperature",
                                   "Humidity",
                                   "Cloudiness",
                                   "Wind Speed"]]
city_weather_df.head()
```




<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Latitude</th>
      <th>Temperature</th>
      <th>Humidity</th>
      <th>Cloudiness</th>
      <th>Wind Speed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-46.60</td>
      <td>66.66</td>
      <td>80</td>
      <td>92</td>
      <td>17.16</td>
    </tr>
    <tr>
      <th>1</th>
      <td>67.54</td>
      <td>-33.34</td>
      <td>0</td>
      <td>56</td>
      <td>3.29</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-32.68</td>
      <td>65.67</td>
      <td>95</td>
      <td>88</td>
      <td>11.56</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-23.66</td>
      <td>78.49</td>
      <td>40</td>
      <td>32</td>
      <td>4.81</td>
    </tr>
    <tr>
      <th>4</th>
      <td>60.34</td>
      <td>2.98</td>
      <td>82</td>
      <td>68</td>
      <td>5.93</td>
    </tr>
  </tbody>
</table>
</div>




```python
#scatterplots of 
# Temperature (F) vs. Latitude
plt.scatter(city_lat, city_temp, marker='o', 
            edgecolors="black",
            c="blue")

plt.xlim(-80, 100)
plt.ylim(-100, 150)

plt.xlabel("Latitude")
plt.ylabel("Temperature")
plt.title("City Latitude vs. Temp(F) 12/3/17")

plt.savefig('LatVTemp.png')
plt.show()
```


![png](output_8_0.png)



```python
# Humidity (%) vs. Latitude
plt.scatter(city_lat, city_humidity, marker='o', 
            edgecolors="black",
            c="blue")

plt.xlim(-80, 100)
plt.ylim(-20, 120)

plt.xlabel("Latitude")
plt.ylabel("Humidity(%)")
plt.title("City Latitude vs. Humidity 12/3/17")

plt.savefig('LatVHumidity.png')
plt.show()
```


![png](output_9_0.png)



```python
# Cloudiness (%) vs. Latitude
plt.scatter(city_lat, city_clouds, marker='o', 
            edgecolors="black",
            c="blue")

plt.xlim(-80, 100)
plt.ylim(-20, 120)

plt.xlabel("Latitude")
plt.ylabel("Cloudiness(%)")
plt.title("City Latitude vs. Cloudiness 12/3/17")

plt.savefig('LatVClouds.png')
plt.show()
```


![png](output_10_0.png)



```python
# Wind Speed (mph) vs. Latitude
plt.scatter(city_lat, city_wind, marker='o', 
            edgecolors="black",
            c="blue")

plt.xlim(-80, 100)
plt.ylim(-5, 40)

plt.xlabel("Latitude")
plt.ylabel("Wind Speed(mph)")
plt.title("City Latitude vs. Wind Speed 12/3/17")

plt.savefig('LatVWind.png')
plt.show()
```


![png](output_11_0.png)



```python
city_weather_df.to_csv('WeatherPy.csv')
```
